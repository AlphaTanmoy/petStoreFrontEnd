<!-- Loader -->
<app-loader [isLoading]="(isLoading$ | async) ?? false"></app-loader>

<!-- Top Navbar for guest users -->
<div *ngIf="!useSideNavbar">
  <app-navbar></app-navbar>
</div>

<!-- Main container for authenticated layout -->
<div class="app-container">
  <!-- Side Navbar for logged-in users -->
  <app-side-navbar
    *ngIf="useSideNavbar"
    (sidebarCollapsed)="onSidebarCollapsed($event)">
  </app-side-navbar>

  <!-- Main Content Area -->
  <div
    class="main-content"
    [class.with-sidebar]="useSideNavbar"
    [class.sidebar-collapsed]="isSidebarCollapsed">
    
    <router-outlet></router-outlet>
    <app-footer></app-footer>
  </div>
</div>
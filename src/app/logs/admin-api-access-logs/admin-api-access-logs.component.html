<!-- api-access-logger.component.html -->
<div class="filters">
  <select [(ngModel)]="statusCode">
    <option value="">All Status</option>
    <option value="200">200 OK</option>
    <option value="500">500 Error</option>
  </select>

  <select [(ngModel)]="httpMethod">
    <option value="">All Methods</option>
    <option value="GET">GET</option>
    <option value="POST">POST</option>
  </select>

  <input type="text" placeholder="API Endpoint" [(ngModel)]="apiEndPoint" />

  <label>
    <input type="checkbox" [(ngModel)]="ipOnlyLocal" />
    Localhost IP only
  </label>

  <button (click)="applyFilters()">Apply Filters</button>
  <button (click)="resetFilters()">Reset</button>
</div>

<hr />

<div class="log-entry" *ngFor="let log of logs">
  <div><strong>Endpoint:</strong> {{ log.apiEndPoint }}</div>
  <div><strong>Method:</strong> {{ log.httpMethod }}</div>
  <div><strong>Status:</strong> {{ log.statusCode }}</div>
  <div><strong>Duration:</strong> {{ log.statusDuration }}ms</div>
  <div><strong>IP:</strong> {{ log.ipAddress }}</div>
  <div><strong>Time:</strong> {{ log.createdDate }}</div>
  <hr />
</div>

<button *ngIf="offsetToken" (click)="loadMore()">Load More</button>
